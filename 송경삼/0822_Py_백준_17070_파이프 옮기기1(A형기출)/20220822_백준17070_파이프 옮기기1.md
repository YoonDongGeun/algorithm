# 2022080822_백준17070_파이프 옮기기1_송경삼

**1. 문제**

![](20220822_백준17070_파이프%20옮기기1_assets/2022-08-23-00-07-07-image.png)



![](20220822_백준17070_파이프%20옮기기1_assets/2022-08-23-00-07-27-image.png)

문제를 읽고 가장 먼저 든 생각이 방식에는 분명히 차이가 있긴 하지만 미로찾기 문제와 비슷하다고 느꼈습니다.  대신 이동할수 있는 조건이 다르고, 이동 방향도 다를 뿐이라고 느꼈습니다. 따라서 이 문제는 DFS와 빽트래킹을 통해 시간을 최적화하면서 완전 탐색 문제라고 생각했습니다.



**2. 나의 풀이**

```python
N=int(input())
Room=[[1]*(N+2)]+[[1]+list(map(int,input().split()))+[1] for _ in '_'*N]+[[1]*(N+2)]
        #DFS와 빽트래킹을 쓰기 위해 행렬을 1로 감싸서 인풋을 받습니다.
stack=[(1,2,0)] #처음의 i행,j행,파이프의 방향입니다. 0:수평 1:대각 2:수직
cnt=0       #경로의 수 입니다.
while stack!=[]:        #스택이 빌때까지 반복합니다
    I,J,d=stack.pop()   #top을 하나 뽑습니다.
    sub=[]      #해당 좌표와 방향에서 쓰일 임시 리스트입니다.
    I2=I+1      #연산량을 줄이기 위해 다음 I,J좌표를 저장
    J2=J+1      
    sub.append(Room[I][J2])     #오른쪽을 확인
    sub.append(Room[I2][J2])    #대각선을 확인
    sub.append(Room[I2][J])     #아래쪽을 확인
    if sub==[0,0,0]:            #셋다 비어있다면 대각선을 봅니다.
        if J2==N and I2==N:cnt+=1   #도착했다면 카운트만하고
        else:stack.append((I2,J2,1))    #도착이 아니라면 대각선을 스택에 추가
    if d!=2 and sub[0]==0:          #오른쪽으로 갈 수 있으면 오른쪽도 확인
        if I==N and J2==N:cnt+=1
        else:stack.append((I,J2,0))
    if d!=0 and sub[2]==0:          #왼쪽도 갈 수 있으면 왼쪽도 확인
        if I2==N and J==N:cnt+=1
        else:stack.append((I2,J,2))
print(cnt)  #인쇄를 합니다.
```

![](20220822_백준17070_파이프%20옮기기1_assets/2022-08-23-00-12-02-image.png)

일단, 방향성을 잡으니 구현하는데에는 큰 어려움이 없었습니다. 하지만, 최적화에 있어서 굉장히 안좋았습니다. 그래서 시간초과로 실패를 했습니다. 최대한 연산량을 줄이기 위해 불필요한 중복된 연산을 없애고, 반복되는 호출 연산 또한 변수에 저장함으로 시간을 줄였습니다. 그 결과 700ms 라는 시간으로 통과했습니다. sys를 import 안하고, 완전 탐색으로 풀었기에 시간에 있어서 빠듯하게 통과했다고 생각합니다.



**3. 다른풀이와 비교**

![](20220822_백준17070_파이프%20옮기기1_assets/2022-08-23-00-11-05-image.png)

우선 늘 하던것처럼 랭커와의 비교를 하려고 했습니다. 하지만 너무나도 차이나는 메모리와 시간에 비교하는 것이 부끄러웠습니다. 우선 이렇게 차이나는 이유는 완전 탐색이 아닌 다른 방법으로 푸는 법이 더 좋은 방법이라고 생각했습니다. 저는 다른 로직으로 한번더 이문제를 풀어보고자 오늘은 다른사람의 풀이를 보지 않았습니다. 한번더 다른 방법으로 직접 문제를 풀고 랭커들의 풀이와 비교하도록 하겠습니다.



**4. 느낀점**

어제도 그랬지만, 제가 처음 했던 생각으로 풀 수 있는 문제라도 다른 방법은 없을지 고민해볼 필요가 있다고 느꼈습니다. 여러 문제를 푸는 경험도 중요하지만 한 문제를 여러 방법으로 풀어보는 것 또한 공부하는데에 도움이 많이 될 것이라고 생각하고 한번 더 이문제에 도전하고자 합니다. 그리고.. A형을 위해 생각보다 더욱 많은 노력이 필요할 것 같다 느꼈습니다.



*출처

https://www.acmicpc.net/problem/17070